<style>
    .c-multi-select {
        position: relative;
        display: inline-block;
        min-width: 160px;
        vertical-align: bottom;
    }

    .c-multi-select .select-area {
        line-height: 30px;
        height: 30px;
        padding: 0 10px;
        color: gray;
        background-color: #fff;
        border: 1px solid #ccc;
        overflow: hidden;
    }

    .c-multi-select .select-list {
        display: none;
        position: absolute;
        width: 100%;
        top: 32px;
        left: 0;
        z-index: 100;
        max-height: 200px;
        text-align: center;
        background-color: #FFF;
    }

    .c-multi-select:hover .select-list {
        display: block;
        width: 100%;
        border: 1px solid #ccc;
        max-height: 200px;
        overflow-y: scroll;
    }

    .c-multi-select .select-list>div {
        line-height: 30px;
        border-bottom: 1px solid #ccc;
        background-color: #FFF;
    }

    .c-multi-select .select-list>div:last-child {
        border: none;
    }

    .c-multi-select .select-list>div.selected {
        background-color: #eee;
    }
</style>
<div class="light-zen">
    <div class="c-multi-select">
        <div class="select-area">请选择</div>
        <div class="select-list">
            <div class="select-item" data-value="">全部</div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var MultiSelect = function(config) {
        if (config && config.ele && config.data) {
            this.ele = $("#" + config.ele);
            this.data = config.data;
            this.para = "";
            this.rend(config.data);
            this.bind();
        }
        return this;
    }

    MultiSelect.prototype = {
        rend: function(data) {
            var _this = this;
            var parent = _this.ele.find(".select-list");
            for (var i = 0; i < data.length; i++) {
                var item = data[i];
                var clone = $("<div>").addClass("select-item");
                Store.data(clone,item);
                clone.attr("data-value", item.value).text(item.name);
                // MultiSelect.bind(clone);
                parent.append(clone);
            }
        },
        bind: function() {
            var _this = this;
            this.ele.find(".select-item").click(function() {
                var $this = $(this);
                if (!$this.attr("data-value")) {
                    _this.ele.find(".select-item").removeClass("selected");
                } else {
                    _this.ele.find(".select-item").eq(0).removeClass("selected");
                }
                $this.toggleClass("selected");
                _this.rendValue();
            });
        },
        rendValue: function() {
            var _this = this;
            var parent = _this.ele.find(".select-list");
            var value = "";
            var name = "";
            parent.find(".selected").each(function() {
                var $this = $(this);
                if ($this.attr("data-value")) {
                    if (value == "") {
                        value += $this.attr("data-value");
                        name += $this.text();
                    } else {
                        value += "," + $this.attr("data-value");
                        name += "," + $this.text();
                    }
                }
            });
            if (value == "") {
                name = "请选择";
            }
            _this.ele.find(".select-area").text(name);
            _this.ele.attr("data-value", value);
            _this.para = value;
        }
    }

    var MultiSelectSimple = {
        ele: null,
        data: null,
        para: null,
        init: function(config) {
            if (config && config.ele && config.data) {
                this.ele = $("#" + config.ele);
                this.data = config.data;
                this.rend(config.data);
                this.bind();
            }
        },
        rend: function(data) {
            var parent = MultiSelect.ele.find(".select-list");
            for (var i = 0; i < data.length; i++) {
                var item = data[i];
                var clone = $("<div>").addClass("select-item");
                clone.data(item);
                clone.attr("data-value", item.value).text(item.name);
                // MultiSelect.bind(clone);
                parent.append(clone);
            }
        },
        bind: function() {
            this.ele.find(".select-item").click(function() {
                var _this = $(this);
                if (!_this.attr("data-value")) {
                    MultiSelect.ele.find(".select-item").removeClass("selected");
                } else {
                    MultiSelect.ele.find(".select-item").eq(0).removeClass("selected");
                }
                _this.toggleClass("selected");
                MultiSelect.rendValue();
            });
        },
        rendValue: function() {
            var parent = MultiSelect.ele.find(".select-list");
            var value = "";
            var name = "";
            parent.find(".selected").each(function() {
                var _this = $(this);
                if (_this.attr("data-value")) {
                    if (value == "") {
                        value += _this.attr("data-value");
                        name += _this.text();
                    } else {
                        value += "," + _this.attr("data-value");
                        name += "," + _this.text();
                    }
                }
            });
            if (value == "") {
                name = "请选择";
            }
            MultiSelect.ele.find(".select-area").text(name);
            MultiSelect.ele.attr("data-value", value);
            MultiSelect.para = value;
        }
    }

</script>
